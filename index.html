<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0">
    <meta name="referrer" content="no-referrer">
    <title>IPA Archive</title>
    <link rel="shortcut icon" href="./favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
    <link rel="stylesheet" href="style.css">
    <script src='script.js'></script>
</head>

<body>
    <div class="center">
        <button onclick="randomIPA()" class="styled-button">Random</button>
        <h1>IPA Archive</h1>
    </div>
    
    <form class="searchbox" onsubmit="event.preventDefault(); searchIPA(); return false;" autocomplete="off">
        <input id="page" type="hidden">
        <input id="minid" type="hidden">
        <div class="form-group">
            <label for="search">Search: <input id="search" placeholder="Search"></label>
            <label for="bundleid">BundleId: <input id="bundleid" placeholder="com.gameloft."></label>
            <label for="unique">Unique: <input id="unique" type="checkbox" checked></label>
        </div>
        <div class="form-group">
            <label for="minos">Min OS: <input id="minos" placeholder="1.0"></label>
            <label for="maxos">Max OS: <input id="maxos" placeholder="5.1.1"></label>
            <label for="device">Device: <select id="device">
                <option value="">Any</option>
                <option value="1">iPhone</option>
                <option value="2">iPad</option>
                <option value="3">TV</option>
                <option value="4">Watch</option>
            </select></label>
        </div>
        <button type="submit" class="styled-button">Search</button>
    </form>
    
    <div id="content">JavaScript disabled?</div>
    
    <div id="templates" hidden>
        <div class="entry full">
            <div>
                <img src="$IMG" class="app-image">
                <button onclick="installIPA($IDX)" class="styled-button">Install</button>
            </div>
            <div class="info">
                <h4>$TITLE</h4>
                <p>BundleId: $BUNDLEID</p>
                <p>Version: v$VERSION â€“ $SIZE</p>
                <p>Device: $PLATFORM</p>
                <p>Minimum OS: $MINOS</p>
                <p>Link: <a href="$URL" rel="noopener noreferrer nofollow">$URLNAME</a></p>
            </div>
        </div>
    </div>
    
    <div id="overlay" hidden>
        <div id="installMsg" class="modal">
            <h3>Install on Device</h3>
            <p>This function is not possible with static HTML+JS. You must provide a plist generator URL.</p>
            <form onsubmit="event.preventDefault(); setPlistGen(); return false;" autocomplete="off">
                <label for="plistServer">Generator URL:</label>
                <input id="plistServer" placeholder="http://192.168.0.1/">
                <button type="submit" class="styled-button">Save</button>
                <button type="button" class="styled-button" onclick="document.getElementById('overlay').hidden=true">Abort</button>
            </form>
        </div>
    </div>
    
    <script>loadDB()</script>
</body>
</html>
